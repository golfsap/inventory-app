<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%= item.name %>></title>
  </head>
  <body>
    <h1><%= item.name %></h1>
    <a href="/items/<%= item.id %>/edit">Edit</a>
    <button onclick="deleteItem('<%= item.id %>')">Delete</button>
    <ul>
      <li><strong>Brand:</strong> <%= item.brand %></li>
      <li><strong>Size:</strong> <%= item.size %></li>

      <li><strong>Price:</strong> $<%= item.price %></li>
      <li><strong>Quantity in Stock:</strong> <%= item.quantity_in_stock %></li>
      <li><strong>Category:</strong> <%= item.category_name %></li>
    </ul>
    <!-- <p><%= item.description %></p> -->
    <p><a href="/categories/<%= item.category_id %>">‚Üê Back to Category</a></p>
  </body>
  <script>
    function deleteItem(id) {
      if (confirm("Are you sure you want to delete this item?")) {
        fetch(`/items/${id}`, {
          method: "DELETE",
        })
          .then((res) => {
            if (res.ok) {
              window.location.href = `/`;
            } else {
              return res.text().then((msg) => alert("Delete failed: " + msg));
            }
          })
          .catch((err) => {
            console.error(err);
            alert("Error deleting");
          });
      }
    }
  </script>
</html>
